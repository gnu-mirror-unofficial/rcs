.de Id
.ds Rv \\$3
.ds Dt \\$4
..
.Id $Id: rcsclean.1,v 1.4 1990/11/02 19:33:11 hammer Exp $
.ds r \s-1RCS\s0
.if n .ds - \%--
.if t .ds - \(em
.TH RCSCLEAN 1 \*(Dt GNU
.SH NAME
rcsclean \- clean up working files
.SH SYNOPSIS
.B rcsclean
.RI [ "rcsdiff options" ]
.RI [ file "\ .\|.\|.\ ]"
.SH DESCRIPTION
.B rcsclean
removes working files that were checked out and never modified.
For each file given, 
.B rcsclean
compares the working file and a revision in the corresponding
\*r file. If it finds no difference, it removes the working file, and,
if the revision was locked, unlocks the revision.
.PP
If no
.I file
is given, all working files in the current directory are cleaned.
Any other options are passed along to
.B rcsdiff
for the comparison.
.PP
.B rcsclean
is useful for
.B clean
targets in Makefiles.
See also
.BR rcsdiff (1),
which prints out the differences,
and
.BR ci (1),
which
normally asks whether to check in a file
if it was not changed.
.SH EXAMPLES
.LP
.RS
.ft 3
rcsclean  *.c  *.h
.ft
.RE
.LP
removes all working files ending in
.B .c
or
.B .h
that were not changed
since their checkout.
.RS
.ft 3
rcsclean
.ft
.RE
.LP
removes all working files in the current directory
that were not changed since their checkout.
.SH DIAGNOSTICS
The exit status is 0 if there were no differences in any file under \*r control,
1 if there were differences, and 2 if there were errors.
.SH IDENTIFICATION
Author: Walter F. Tichy.
.br
Revision Number: \*(Rv; Release Date: \*(Dt.
.br
Copyright \(co 1982, 1988, 1989 by Walter F. Tichy.
.br
Copyright \(co 1990 by Paul Eggert.
.SH "SEE ALSO"
ci(1), co(1), ident(1), rcs(1), rcsdiff(1), rcsintro(1), rcsmerge(1), rlog(1),
rcsfile(5)
.br
Walter F. Tichy,
\*r\*-A System for Version Control,
.I "Software\*-Practice & Experience"
.BR 15 ,
7 (July 1985), 637-654.
.SH BUGS
RCS file names may not be given as arguments.
.PP
Any diagnostics generated by
.B rcsdiff
when comparing files are discarded.
.PP
If the latest revision is already unlocked,
and you have a lock on an earlier revision,
the earlier revision is unlocked.
.PP
.B rcsclean
is just an optional example shell script, and should not be taken too seriously.
