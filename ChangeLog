2010-03-07  Thien-Thi Nguyen  <ttn@gnuvola.org>

	[build] Require absolute filenames for external programs.

	* configure.in (RCS_ABSOLUTE_PROGRAM): New AC_DEFUN.
	(mailer): Don't check absoluteness here.
	(SENDMAIL, DIFF, DIFF3, ED): Use `RCS_ABSOLUTE_PROGRAM'.
	(build-aux/abs-p): Delete AC_CONFIG_FILES.
	* Makefile.in (dist): Update.
	* README: Update.
	* build-aux/abs-p.in: Delete file.

2010-03-07  Thien-Thi Nguyen  <ttn@gnuvola.org>

	[build int] New abstration: RCS_MUSTHAVE

	* configure.in (RCS_MUSTHAVE): New AC_DEFUN.
	(DIFF, DIFF3, ac_cv_prog_cc_c99): Use `RCS_MUSTHAVE'.

2010-03-07  Thien-Thi Nguyen  <ttn@gnuvola.org>

	[build int] Use `RCS_CBOOL' more.

	* configure.in (COMPAT2): Use `RCS_CBOOL'.

2010-03-07  Thien-Thi Nguyen  <ttn@gnuvola.org>

	[build int] Use `AS_IF' more.

	* configure.in (RCS_CBOOL): Use `AS_IF'.

2010-03-07  Thien-Thi Nguyen  <ttn@gnuvola.org>

	[build] Move non-filename DIFF* configuration to configure.in.

	* configure.in (diffutils): In this AC_ARG_WITH form,
	use `AS_HELP_STRING' and incorporate DIFF* var defaulting.
	(DIFF_SUCCESS): Delete AC_SUBST; add AC_DEFINE_UNQUOTED.
	(DIFF_FAILURE, DIFF_TROUBLE, DIFFFLAGS, DIFF_L, DIFF3_BIN): Likewise.

2010-03-06  Thien-Thi Nguyen  <ttn@gnuvola.org>

	[build] Move `SENDMAIL' configuration to configure.in.

	* configure.in (mailer): New AC_ARG_WITH.
	(SENDMAIL): New AC_DEFINE_UNQUOTED, if `--with-mailer=PROG'.
	(SENDMAIL): Delete AC_PATH_PROGS, and related followup.
	* README: Update.

2010-03-06  Thien-Thi Nguyen  <ttn@gnuvola.org>

	[build] Move `ED' configuration into configure.in.

	* configure.in (eddesc): New AC_DEFUN.
	(ED): New AC_ARG_VAR.
	(ED): Do this AC_PATH_PROG only if diff3(1) is not a user program.
	(ED): New AC_DEFINE_UNQUOTED.

2010-03-06  Thien-Thi Nguyen  <ttn@gnuvola.org>

	[build] Move `COMPAT2' configuration into configure.in.

	* configure.in (compat2): New AC_ARG_ENABLE.
	(COMPAT2): New AC_DEFINE_UNQUOTED.
	* README: Update.

2010-03-06  Thien-Thi Nguyen  <ttn@gnuvola.org>

	[dist] Don't distribute INSTALL.RCS.

	* README: Incorporate INSTALL.RCS.
	* Makefile.in (dist): Don't distribute INSTALL.RCS.
	* INSTALL.RCS: Delete file.

2010-03-06  Thien-Thi Nguyen  <ttn@gnuvola.org>

	[build] Don't distribute (now-defunct) conf.heg.

	* Makefile.in (dist): Remove "*.heg" from
	list of files to distribute in the src/ subdir.

2010-03-06  Thien-Thi Nguyen  <ttn@gnuvola.org>

	[sec] Use `mkstemp' instead of `mktemp'.

	* configure.in (mktemp): Remove from `AC_CHECK_FUNCS_ONCE'.
	(mkstemp): Add to `AC_CHECK_FUNCS_ONCE'.

2010-03-04  Thien-Thi Nguyen  <ttn@gnuvola.org>

	[build] Fix omission bug: Distribute build-aux/abs-p.in, as well.

	This fixes the omission in commit:
	[build] Detect "absolute-filename-p" without compiling.

	* Makefile.in (dist): Distribute build-aux/abs-p.in.

2010-03-04  Thien-Thi Nguyen  <ttn@gnuvola.org>

	Add --help, --version handling for all programs.

	* build-aux/extract-help: New file.
	* Makefile.in (dist): Distribute build-aux/extract-help.
	Also, substitute package version into $d/src/rcsfreeze.sh.

2010-03-03  Thien-Thi Nguyen  <ttn@gnuvola.org>

	[admin] Don't distribute rcs_func.ms.

	* rcs_func.ms: Delete file.
	* README: Update.

2010-03-03  Thien-Thi Nguyen  <ttn@gnuvola.org>

	[admin] Don't distribute REFS.

	* REFS: Delete file.
	* Makefile.in (dist): Update.

2010-03-03  Thien-Thi Nguyen  <ttn@gnuvola.org>

	[admin] Rename file CREDITS to AUTHORS.

	* AUTHORS: Rename from CREDITS; refill.
	* Makefile.in (dist): Update.

2010-03-03  Thien-Thi Nguyen  <ttn@gnuvola.org>

	[build] Detect "absolute-filename-p" without compiling.

	* build-aux/abs-p.in: New file.
	* configure.in: Add check for MS-DOS filenames.
	(WOE): New AC_DEFINE_UNQUOTED.
	(WOEMUX): New AC_DEFUN.
	(ABSFILENAMEGLOB): New AC_SUBST.
	(rcs_cv_slsl_is_sl): Use `WOEMUX'; rename local var.
	(build-aux/abs-p): New AC_CONFIG_FILES.

2010-03-02  Thien-Thi Nguyen  <ttn@gnuvola.org>

	[build] Move "// is /" check to configure.in.

	* configure.in: Add check for "// is /".
	(SLASHSLASH_IS_SLASH): New AC_DEFINE_UNQUOTED.

2010-03-02  Thien-Thi Nguyen  <ttn@gnuvola.org>

	[build] Move "bad wait if SIGCHLD ignored" check to configure.in.

	* configure.in: Add check for `wait' that handles ignored SIGCHLD.
	(BAD_WAIT_IF_SIGCHLD_IGNORED): New AC_DEFINE_UNQUOTED.

2010-03-02  Thien-Thi Nguyen  <ttn@gnuvola.org>

	[build] Move mmap-related checks to configure.in.

	* configure.in: Add checks for mmap-related quirks.
	(madvise, mmap): Add to `AC_CHECK_FUNCS_ONCE'.
	(SIMPLE_MMAP_PROGRAM): New AC_DEFUN.

2010-03-02  Thien-Thi Nguyen  <ttn@gnuvola.org>

	[build] Move "bad rename" checks to configure.in.

	* configure.in: Add checks for "bad rename".
	(BAD_A_RENAME): New AC_DEFINE_UNQUOTED.
	(BAD_B_RENAME): Likewise.

2010-03-01  Thien-Thi Nguyen  <ttn@gnuvola.org>

	[build] Move `sys_siglist' check to configure.in.

	* configure.in (sys_siglist): Add to `AC_CHECK_FUNCS_ONCE'.

2010-03-01  Thien-Thi Nguyen  <ttn@gnuvola.org>

	[build] Move "siginfo_t .si_errno" check to configure.in.

	* configure.in: Add check for "siginfo_t .si_errno".
	(HAVE_SI_ERRNO): New AC_DEFINE.

2010-03-01  Thien-Thi Nguyen  <ttn@gnuvola.org>

	[build] Move "unlink on unwritable files" check to configure.in.

	* configure.in: Add check for "unlink on unwritable files".
	(BAD_UNLINK): New AC_DEFINE_UNQUOTED.

2010-03-01  Thien-Thi Nguyen  <ttn@gnuvola.org>

	[build] Move "fopen w+ truncates" check to configure.in.

	* configure.in: Add check for "fopen w+ truncates".
	(BAD_FOPEN_WPLUS): New AC_DEFINE_UNQUOTED.

2010-02-28  Thien-Thi Nguyen  <ttn@gnuvola.org>

	[build] Move "signal zaps handler" check to configure.in.

	* configure.in: Add check for signal zapping handlers,
	but only do this if we have <signal.h> and not `sigaction'.
	(SIG_ZAPS_HANDLER): New AC_DEFINE_UNQUOTED.

2010-02-28  Thien-Thi Nguyen  <ttn@gnuvola.org>

	[build] Move "fflush input" check to configure.in.

	* configure.in: Add check for fflush on input stream.
	(CAN_FFLUSH_IN): New AC_DEFINE_UNQUOTED.

2010-02-28  Thien-Thi Nguyen  <ttn@gnuvola.org>

	[build] Move "`write' after `creat (F, 0)'" check to configure.in.

	* configure.in: Add check for write(2) after
	creat(2) with mode 0 failing in the "wrong" way.
	(RCS_CBOOL): New AC_DEFUN.
	(BAD_CREAT0): New AC_DEFINE_UNQUOTED.

2010-02-28  Thien-Thi Nguyen  <ttn@gnuvola.org>

	[build] Move `psiginfo' check to configure.in.

	* configure.in (psiginfo): Add to `AC_CHECK_FUNCS_ONCE'.

2010-02-28  Thien-Thi Nguyen  <ttn@gnuvola.org>

	[build] Move `sigblock' check to configure.in.

	* configure.in (sigblock): Add to `AC_CHECK_FUNCS_ONCE'.

2010-02-28  Thien-Thi Nguyen  <ttn@gnuvola.org>

	[build] Move `sigaction' check to configure.in.

	* configure.in (sigaction): Add to `AC_CHECK_FUNCS_ONCE'.

2010-02-28  Thien-Thi Nguyen  <ttn@gnuvola.org>

	[build] Move `psignal' check to configure.in.

	* configure.in (psignal): Add to `AC_CHECK_FUNCS_ONCE'.

2010-02-28  Thien-Thi Nguyen  <ttn@gnuvola.org>

	[build] Move `seteuid', `setuid' checks to configure.in.

	* configure.in (seteuid, setuid): Add to `AC_CHECK_FUNCS_ONCE'.

2010-02-27  Thien-Thi Nguyen  <ttn@gnuvola.org>

	[build] Move `ftruncate' check to configure.in.

	* configure.in (ftruncate): Add to `AC_CHECK_FUNCS_ONCE'.

2010-02-28  Thien-Thi Nguyen  <ttn@gnuvola.org>

	[build] Move `vfork', `fork' checks to configure.in.

	* configure.in (vfork.h): Remove from `AC_CHECK_HEADERS_ONCE'.
	(AC_FUNC_FORK): New.

2010-02-27  Thien-Thi Nguyen  <ttn@gnuvola.org>

	[build] Move `waitpid' check to configure.in.

	* configure.in (waitpid): Add to `AC_CHECK_FUNCS_ONCE'.

2010-02-27  Thien-Thi Nguyen  <ttn@gnuvola.org>

	[build] Move `mktemp' check to configure.in.

	* configure.in (mktemp): Add to `AC_CHECK_FUNCS_ONCE'.

2010-02-27  Thien-Thi Nguyen  <ttn@gnuvola.org>

	[build] Move `getuid', `getpwuid' checks to configure.in.

	* configure.in (getpwuid, getuid): Add to `AC_CHECK_FUNCS_ONCE'.

2010-02-27  Thien-Thi Nguyen  <ttn@gnuvola.org>

	[build] Move `fchmod' check to configure.in.

	* configure.in (fchmod): Add to `AC_CHECK_FUNCS_ONCE'.

2010-02-27  Thien-Thi Nguyen  <ttn@gnuvola.org>

	[build] Move `getcwd', `getwd' check to configure.in.

	* configure.in (getcwd, getwd): Add to `AC_CHECK_FUNCS_ONCE'.

2010-02-27  Thien-Thi Nguyen  <ttn@gnuvola.org>

	[build] Move `readlink' check to configure.in; use _POSIX_SYMLOOP_MAX.

	* configure.in (AC_CHECK_HEADERS_ONCE): Remove sys/param.h.
	(AC_CHECK_FUNCS_ONCE): New, with one item: `readlink'.

2010-02-27  Thien-Thi Nguyen  <ttn@gnuvola.org>

	[build] Move checks for missing type definitions to configure.in.

	* configure.in (AC_TYPE_MODE_T, AC_TYPE_OFF_T)
	(AC_TYPE_PID_T, AC_TYPE_SSIZE_T, AC_TYPE_UID_T): New
	(sig_atomic_t): New AC_CHECK_TYPE.

2010-02-26  Thien-Thi Nguyen  <ttn@gnuvola.org>

	[build] Move checks for GCC __attribute__ handling to configure.in

	* configure.in (RCS_CHECK_GCC_ATTRIBUTE): New AC_DEFUN.
	(noreturn, format): New RCS_CHECK_GCC_ATTRIBUTE calls.

2010-02-26  Thien-Thi Nguyen  <ttn@gnuvola.org>

	[build] Don't bother checking `const', `volatile' handling.

	* conf.sh: Remove checks for `const', `volatile' handling.

2010-02-26  Thien-Thi Nguyen  <ttn@gnuvola.org>

	[build] Move check for system headers into configure.in.

	* configure.in (AC_CHECK_HEADERS_ONCE): New.

2010-02-25  Thien-Thi Nguyen  <ttn@gnuvola.org>

	[build] Require a C99-capable compiler.

	* configure.in (AC_PROG_CC): Delete.
	(AC_PROG_CC_C99): New.
	If no C99-capable compiler is found, error out.

2010-02-25  Thien-Thi Nguyen  <ttn@gnuvola.org>

	[build] Use zero-arg form of AC_OUTPUT.

	* configure.in (AC_CONFIG_FILES): New.
	(AC_OUTPUT): Move args to `AC_CONFIG_FILES'.

2010-02-25  Thien-Thi Nguyen  <ttn@gnuvola.org>

	[build] Move authoritative version number into configure.in.

	* autogen.sh: New file.
	* configure.in (AC_INIT): Use three-arg form.
	(AC_CONFIG_HEADERS): New.
	* Makefile.in (PACKAGE_VERSION, PACKAGE_TARNAME): New vars.
	(dist): Use them.

2010-02-24  Thien-Thi Nguyen  <ttn@gnuvola.org>

	[admin] On "make dist", don't bother with tar(1) blocking factor.

	* Makefile.in (dist): Don't specify the tar(1) blocking factor.

2010-02-24  Thien-Thi Nguyen  <ttn@gnuvola.org>

	[man] Set metainfo at "make dist"; say "GNU RCS <VERSION>".

	* Makefile.in (dist) <man>: Prepend release version and release date.

2010-02-24  Thien-Thi Nguyen  <ttn@gnuvola.org>

	In RCS paper by W.F. Tichy, don't specify a separate title page.

	* rcs.ms (Id): Delete macro definition.
	(.Id, .RP): Delete.

2010-02-24  Thien-Thi Nguyen  <ttn@gnuvola.org>

	[admin] Distribute only one copy of COPYING.

	* Makefile.in (dist): Don't distribute man/COPYING, man/COPYING.

2010-02-24  Thien-Thi Nguyen  <ttn@gnuvola.org>

	[admin] Move install-sh, mkinstalldirs into new dir build-aux/.

	* build-aux/install-sh: Move here from top-level;
	upgrade to version distributed with Automake 1.11.1.
	* build-aux/mkinstalldirs: Likewise.
	* configure.in (AC_CONFIG_AUX_DIR): Specify build-aux/.
	* Makefile.in (dist): Update to distribute from new location.

Fri Jun 16 06:19:24 1995  Paul Eggert  <eggert@twinsun.com>

	Version 5.7 released.
	* INSTALL.RCS (TESTPREFIX): Remove.
	* INSTALL.RCS, Makefile.in, NEWS: Update FSF address.
	* Makefile.in (dist): Distribute REFS.
	* NEWS: Add brief summary.
	* README: Add REFS.  Omit experimental distributions.
	* REFS: Initial revision
	* configure.in (DIFF_FAILURE, DIFF_SUCCESS):
	Fix typo: values were interchanged.

Mon Jun  5 08:31:43 1995  Paul Eggert  <eggert@twinsun.com>

	* INSTALL.RCS: Warn about cross-compiling.

Thu Jun  1 16:23:43 1995  Paul Eggert  <eggert@twinsun.com>

	* NEWS: -kb is now implemented.  diff3 -A is no longer the default.
	Describe Mach style memory mapping, new installation procedure,
	Posix 1003.1b-1993 compatibility,
	and log prefix compatibility hack for C-style Logs.
	Add possible changes for new option syntax, symbolic links, texinfo.

	* INSTALL.RCS: Renamed from src/INSTALL.
	Building and installation now use autoconf and follow GNU standards.
	Add --with-diffutils, PIC, X_DEFAULT.
	Remove text_work_stdio.
	Warn about HP-UX 8.07, HP-UX 9.*, and Solaris 2.4 mmap bugs.
	Warn about GCC 2.5.8 Intel x86 -O bug.
	Warn about NFS UDP checksum bug.

	* README:
	Replace src/INSTALL with INSTALL (generic GNU) and INSTALL.RCS.

	* configure.in: Initial revision

	* Makefile.in:
	Renamed from Makefile; autoconf now preprocesses this file.
	Complete rewrite to follow GNU makefile standards.

	* rcs.ms: Use new log prefix scheme in example.

Sun Mar 20 05:25:56 1994  Paul Eggert  <eggert@twinsun.com>

	* Makefile.in: Distribute rcsfile.5in as well as rcsfile.5.
	gzip -9.  make clean before make dist.

Thu Mar 17 14:05:48 1994  Paul Eggert  <eggert@twinsun.com>

	* NEWS: Describe 5.6.7 news.
	* INSTALL: GNU diff -> GNU diffutils.  Recommend it.

Tue Nov  9 17:40:15 1993  Paul Eggert  <eggert@twinsun.com>

	* NEWS: Use ISO 8601 format.

Wed Nov  3 17:54:40 1993  Paul Eggert  <eggert@twinsun.com>

	* Makefile.in: Update for RCS 5.6.5.
	* INSTALL, README: Update for RCS 5.6.5.
	* CREDITS, NEWS: New files, taken from README.

Sun Jan 17 18:17:11 1993  Paul Eggert  <eggert@twinsun.com>

	* README: Add -z, rcsmerge -A, $Name, white space in file names.
	This is a pre-5.6.5 snapshot, just before splitting into
	README, INSTALL, NEWS.

Tue Jul 28 16:12:45 1992  Paul Eggert  <eggert@twinsun.com>

	* INSTALL:  Add BINDIR.  conf.error -> conf.err.
	HP-UX 8.07 crashes mmap.  Add setuid build advice.
	* rcs.ms: Remove nonportable .PS, .PE.
	* Makefile.in: Simplify and regularize.
	* README:  Update for 5.6.4: identifiers can contain `.' or
	start with a digit, -V.  ci -i -j.  rcs -l now asks.  rcsdiff
	headers; -rN -rN optimization.  Add projects: -z, sccstorcs,
	rlog examples, etc.

Mon Feb 17 23:02:05 1992  Paul Eggert  <eggert@twinsun.com>

	* INSTALL: Recommend `tail -f a.h' for slowpokes.
	* README: Describe changes in RCS 5.6.3.

Fri Jan 24 18:44:19 1992  Paul Eggert  <eggert@twinsun.com>

	* INSTALL: Add DESTRCSDIR.
	* README:  Add project to add an option to rcsclean to clean
	directories recursively.

Mon Jan  6 02:42:34 1992  Paul Eggert  <eggert@twinsun.com>

	* README: 5.6 -> 5.6.1; add some suggestions
	* INSTALL: Add comment about SunOS 4.0.3.

Sun Nov  3 01:09:19 1991  Paul Eggert  <eggert@twinsun.com>

	* README: Add brief intro.  Add rcsck, compressed, DRCS suggestions.

Mon Oct  7 17:32:46 1991  Paul Eggert  <eggert@twinsun.com>

	* INSTALL: Explain rcsclean, large_memory.
	* README: Fix typo; mention NFS problems.

Tue Sep 24 00:28:38 1991  Paul Eggert  <eggert@twinsun.com>

	* INSTALL, README: Put MS-DOS support into a separate distribution.

Tue Sep 10 22:15:46 1991  Paul Eggert  <eggert@twinsun.com>

	* INSTALL: Fix make directions.
	* README: Upgrade notice for RCS 5.6 beta 5.

Mon Aug 19 03:13:55 1991  Paul Eggert  <eggert@twinsun.com>

	* README:  Describe changes for DOS, -M, -r$, rcs -m, aborted
	checkins, piece tables, and symlinks.
	* INSTALL:  Improve advice for DOS, and for testing before
	installing.  Describe bad_unlink_nfs, text_work_stdio,
	TZ_must_be_set.

Wed Jun  5 16:35:30 1991  Paul Eggert  <eggert@twinsun.com>

	* COPYING: GPL version 2

Sun Apr 21 12:01:28 1991  Paul Eggert  <eggert@twinsun.com>

	* README: RCS 5.6 (beta 3).
	* INSTALL: New file.

Thu Feb 28 19:18:44 1991  Paul Eggert  <eggert@twinsun.com>

	* README: Add more ci advice.

Mon Feb 25 07:12:29 1991  Paul Eggert  <eggert@twinsun.com>

	* README: Introduce RCS 5.6.  Remove setgid support.
	Improve installation and testing instructions.

Thu Jan  3 10:57:28 1991  Paul Eggert  <eggert@twinsun.com>

	* rcs.ms: Merge fixes from RCS 4.3.

Thu Dec 13 06:54:04 1990  Paul Eggert  <eggert@twinsun.com>

	* README: Adjust to GNU diff 1.15.

Thu Nov  1 05:03:19 1990  Paul Eggert  <eggert@twinsun.com>

	* rcs.ms:  Bring back descriptions of rcsclean and rcsfreeze.
	Add pointer to GNU MAKE.  Fix troff glitches.
	* README: Improve installation instructions.  Add -I and new -t
	behavior.  Describe setid behavior on old hosts.  Add some more
	projects.

Sat Sep 15 01:33:22 1990  Paul Eggert  <eggert@twinsun.com>

	* README: rcstest -> src/rcstest

Tue Sep 11 02:41:02 1990  Paul Eggert  <eggert@twinsun.com>

	* README: Improve the description of changes.

Tue Sep  4 08:02:07 1990  Paul Eggert  <eggert@twinsun.com>

	* README:  Don't parse two-digit years, because it won't work
	after 1999/12/31.  Lines consisting of a single `.' are now
	handled correctly.

Wed Aug 29 07:12:54 1990  Paul Eggert  <eggert@twinsun.com>

	* README: Add -kkvl, *merge -q, rcstest.  Fix typos.

Wed Aug 22 08:08:09 1990  Paul Eggert  <eggert@twinsun.com>

	* rcs.ms: Fix troff glitches.
	* README: Describe changes for RCS 5.0.

Wed May 23 06:56:31 1990  Paul Eggert  <eggert@twinsun.com>

	* README: Describe additions to RCS version 5.

Fri Mar 30 01:40:33 1990  Paul Eggert  <eggert@twinsun.com>

	* rcs.ms: Fix some more minor troff glitches.

Thu Mar 22 07:10:13 1990  Paul Eggert  <eggert@twinsun.com>

	* rcs.ms: Permit dates past 1999/12/31.
	Fix some glitches in troff-RCS interactions.

Thu Jan 11 16:32:50 1990  Paul Eggert  <eggert@twinsun.com>

	* rcs.ms: Use GMT, not local time, so people in different
	timezones can collaborate.
