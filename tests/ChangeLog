2010-10-20  Thien-Thi Nguyen  <ttn@gnuvola.org>

	[v int] Say "commands" instead of "tests" in btdt.c.

	* btdt.c (YEAH): Construct dispatch func
	name with suffix "_do_it" instead of "_test".

2010-10-18  Thien-Thi Nguyen  <ttn@gnuvola.org>

	[v] Add infrastructure for component testing.

	* common: Prepend ‘PATHPREFIX’ to ‘PATH’ here.
	* btdt.c: New file.
	* compgate: New file.
	* t010: New file.
	* Makefile.am (check_PROGRAMS): Add btdt.
	(AM_CPPFLAGS, btdt_LDADD): New vars.
	(TESTS_ENVIRONMENT): Don't set ‘PATH’; set ‘PATHPREFIX’.
	(TESTS): Add t010.
	(EXTRA_DIST): Add compgate.
	* README: Mention option ‘COMPONENTS=1’.

2010-10-18  Thien-Thi Nguyen  <ttn@gnuvola.org>

	[v int] Run xorlf without args.

	* t999: Run xorlf without args.

2010-10-15  Thien-Thi Nguyen  <ttn@gnuvola.org>

	[int] Fix bug: Allocate ‘REPO (r)’ also for new repo.

	Omission from 2010-05-24, "Rewrite parsing".
	* Makefile.am (XFAIL_TESTS): Remove t510, t511.

2010-10-15  Thien-Thi Nguyen  <ttn@gnuvola.org>

	[v] Add some ‘ci -i’ tests; mark them xfail.

	* common (noiselessness_rules, bad_RCSfile): New funcs.
	* common-i: New file.
	* t510: New file.
	* t511: New file.
	* Makefile.am (XFAIL_TESTS): Add t510, t511.
	(TESTS): Add t510, t511.
	(EXTRA_DIST): Add common-i.

2010-10-14  Thien-Thi Nguyen  <ttn@gnuvola.org>

	[v] Reorganize tiers.

	* t600: Rename from t500.
	* t601: Rename from t501.
	* t602: Rename from t502.
	* t800: Rename from t700.
	* Makefile.am (XFAIL_TESTS): New var.
	(TESTS): Update.
	* known-failures.in (5.7): Update.
	* README: Update.

2010-10-08  Thien-Thi Nguyen  <ttn@gnuvola.org>

	[int] Search ‘PATH’ for co / merge at runtime.

	* Makefile.am (check_SCRIPTS): Delete var.
	(PATHPREFIX): Update value.
	(test-prep): Delete target.
	(installcheck-local): Update dependency list.

2010-10-07  Thien-Thi Nguyen  <ttn@gnuvola.org>

	[v] Avoid ":" as path separator; use $(PATH_SEPARATOR).

	* Makefile.am (TESTS_ENVIRONMENT): Use $(PATH_SEPARATOR).

2010-10-07  Thien-Thi Nguyen  <ttn@gnuvola.org>

	[v] Overhaul test suite.

	* README: New file.
	* known-failures.in: New file.
	* fake: New directory.
	* fake/empty: New file.
	* fake/empty-minimal: Likewise.
	* fake/one: Likewise.
	* fake/two: Likewise.
	* fake/two-with-branch: Likewise.
	* common: Rewrite.
	* alive.test: Delete file.
	* t150: New file.
	* t300: New file.
	* t310: New file.
	* t311: New file.
	* t420: New file.
	* t500: New file, factored from t001.test.
	* t501: New file, factored from t001.test.
	* t502: New file, factored from t001.test.
	* t001.test: Delete file.
	* t700: Rename from t000.test; simplify.
	* t999: Rename from t999.test; add properly formatted
	blurb for "make describe"; ‘cd $wd’ at beginning and ‘cd ..’
	at end; set env var ‘TMPDIR’; don't honor env var ‘DEBUG’;
	instead, honor ‘VERBOSE’; make RCS/ unconditionally;
	don't delete it and the a.* files at end; don't use
	‘42’ for state; instead, use ‘seriously-spurious’;
	for rlog test, sort output prior to compare.
	* Makefile.am (TESTS): Rewrite.
	(EXTRA_DIST): Add fake.
	(describe): New target.

2010-10-04  Thien-Thi Nguyen  <ttn@gnuvola.org>

	[v] Centralize shell vars ‘w’, ‘v’.

	* common (w, v): New vars.
	* t000.test (w, v): Delete vars.
	* t001.test (w, v): Likewise.

2010-10-04  Thien-Thi Nguyen  <ttn@gnuvola.org>

	[v] Delete unused shell func.

	* common (copyall): Delete func.

2010-10-04  Thien-Thi Nguyen  <ttn@gnuvola.org>

	[v] Use Automake for generating top-level test driver.

	* common: Rename from common.in.
	* Makefile.am (EXTRA_DIST): Add common.
	(check-TESTS): Delete target.
	(srcdir): Delete now-redundant var.

2010-10-04  Thien-Thi Nguyen  <ttn@gnuvola.org>

	[v] Make test wd in common; arrange for cleanup there, too.

	* common.in: Add load-time actions: Make pristine test
	working directory and optionally arrange for its removal.
	* Makefile.am (check-TESTS): No longer do wd setup/cleanup.
	* t999.test: At end, cd ..; don't delete working files.

2010-10-04  Thien-Thi Nguyen  <ttn@gnuvola.org>

	[v] Do stdout/stderr split in shell func, not in makefile.

	* Makefile.am (check-TESTS): Don't redirect stdout/stderr.
	* common.in (split_std_out_err): New func.
	(dontsplit): Delete func.
	* alive.test: Use ‘split_std_out_err’.
	* t000.test: Likewise.
	* t001.test: Likewise.
	* t999.test: Likewise.

2010-10-04  Thien-Thi Nguyen  <ttn@gnuvola.org>

	[v] Use Automake for building xorlf.

	* Makefile.am (check_PROGRAMS): New var.
	* t999.test (xorlf): New var; use it for xorlf invocation.
	* xorlf.c: New file.

2010-10-03  Thien-Thi Nguyen  <ttn@gnuvola.org>

	[v] Use Automake for test preparation.

	* Makefile.am (check_SCRIPTS): New var.
	(check-TESTS): Clear prereq list.

2010-09-30  Thien-Thi Nguyen  <ttn@gnuvola.org>

	[maint] Simplify ‘PATHPREFIX’ Makefile-internal protocol.

	* Makefile.am (PATHPREFIX): Init to the absolute name of
	the 0pre/bin directory under the build-tree src/.
	(TESTS_ENVIRONMENT): Don't run pwd(1).
	(installcheck-local): Rename target from ‘installcheck’;
	omit trailing colon from ‘PATHPREFIX’ specification.

2010-09-29  Thien-Thi Nguyen  <ttn@gnuvola.org>

	[v] Centralize tests; do complicated test last.

	* t999.test: Rename from ../src/alive.test; use ./common for init;
	change to t999.d/ before starting; combine stdout/stderr; inhibit
	cleanup if env var ‘KEEPD’ has value ‘1’.
	* Makefile.am (TESTS): Add t999.test.

2010-09-29  Thien-Thi Nguyen  <ttn@gnuvola.org>

	[v] Fix bug: Specify "./common" to avoid ‘PATH’ search.

	* alive.test: Say ". ./common".
	* t000.test: Likewise.
	* t001.test: Likewise.
	Reported by Ludovic Courtès.

2010-09-27  Thien-Thi Nguyen  <ttn@gnuvola.org>

	Release: 5.7.93

2010-06-24  Thien-Thi Nguyen  <ttn@gnuvola.org>

	Update license to GPLv3+.

	* Makefile.am: Update license notice.
	* common.in: Likewise.

2010-05-31  Thien-Thi Nguyen  <ttn@gnuvola.org>

	[v] Fix bug: Do a ‘co -l’ before modifying the working file.

	Improper methodology introduced 2010-03-10,
	"Fix bug: Remove all log messages when removing all revisions".
	* t000.test: Do ‘co -l’ before composing the first revision.

2010-05-25  Thien-Thi Nguyen  <ttn@gnuvola.org>

	[int] Fix bug: Output proper range for ‘RM_STDIO’ fro.

	Regression introduced 2010-04-27, "Add abstraction: fro_spew_partial".
	* t001.test: Add a test to check proper rlog(1) output,
	given an RCS file bloated into into ‘RM_STDIO’ territory.

2010-05-07  Thien-Thi Nguyen  <ttn@gnuvola.org>

	[int] Fix bug: Resolve ‘BRNUM.’ correctly.

	Regression introduced 2010-04-21, "Add abstraction: fully_numeric".
	* t001.test: Add a test to compare the output of "co -pX",
	where X is ‘BRNUM’ in one case and ‘BRNUM.’ in another.

2010-05-04  Thien-Thi Nguyen  <ttn@gnuvola.org>

	rcs: Fix bug: Correctly erase/append access-list entries.

	Regression introduced 2010-04-28,
	"Use ‘struct link’ instead of ‘struct access’".
	* t001.test: Add some access-list modification tests.

2010-05-04  Thien-Thi Nguyen  <ttn@gnuvola.org>

	rcs: Fix bug: Correctly delete symbolic name.

	Regression introduced 2010-04-28,
	"Replace ‘struct assoc’ with ‘struct wlink’ + ‘struct symdef’".
	* t001.test: New file.
	* Makefile.am (TESTS): Add t001.test.

2010-03-19  Thien-Thi Nguyen  <ttn@gnuvola.org>

	[build] Use GNU Automake.

	* Makefile.am: New file.
	* Makefile.in: Delete file.

2010-03-13  Thien-Thi Nguyen  <ttn@gnuvola.org>

	[v] Also check expected `co' behavior on no-rev RCS file.

	* t000.test <empty>: Check that `co -p' produces no output.

2010-03-10  Thien-Thi Nguyen  <ttn@gnuvola.org>

	Fix bug: Remove all log messages when removing all revisions.

	* t000.test: Enable.  Also, add test
	to check outdating non-tip root revision.

2010-03-09  Thien-Thi Nguyen  <ttn@gnuvola.org>

	[v] Add a directory dedicated to verification.

	* Makefile.in: New file.
	* alive.test: New file.
	* common.in: New file.
	* t000.test: New file.


Copyright (C) 2010 Thien-Thi Nguyen

Copying and distribution of this file, with or without modification,
are permitted provided the copyright notice and this notice are preserved.
